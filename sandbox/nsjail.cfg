# Run in user namespace, disallow privilege escalation
mode: ONCE
clone_newuser: true
clone_newpid: true
clone_newnet: true
clone_newipc: true
clone_newuts: true
clone_newcgroup: true
clone_newns: true

# Disable networking
disable_clone_newnet: false

# Resource limits
rlimit_as: 268435456   # ~256MB virtual memory
rlimit_cpu: 5          # max 5 seconds CPU
time_limit: 10         # max 10 seconds wall time
max_cpus: 1

# Filesystem rules
mount {
  src: "/"
  dst: "/"
  is_bind: true
  rw: false
}
mount {
  src: "/tmp"
  dst: "/tmp"
  is_bind: true
  rw: true
}

# Python interpreter must be accessible
exec_bin: "/usr/local/bin/python3"

# Drop privileges
uidmap { inside_id: 999 outside_id: 999 }
gidmap { inside_id: 999 outside_id: 999 }
